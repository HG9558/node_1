"use strict";(self.webpackChunkcoinDex=self.webpackChunkcoinDex||[]).push([[543],{5691:function(e,s,t){t.d(s,{Z:function(){return d}});var l=t(8473),o=t(4887);const i={class:"footer"},a={class:"display-box footer-ul"},n=["onClick"],c=(0,l._)("i",null,null,-1);t(7658);s={name:"footerId",data(){return{tabs:[{name:"home",toRouter:"home",class:"home"},{name:"markets",toRouter:"markets",class:"markets"},{name:"customerService",toRouter:"service",class:"service"},{name:"assets",toRouter:"assets",class:"assets"},{name:"me",toRouter:"me",class:"me"}]}},computed:{...(0,t(299).Se)(["getUser"])},methods:{toRouter(e){["assets","me"].includes(e)&&!1===this.getUser.isLogin?this.$router.push({name:"login"}):this.$router.push({name:e})}}};var d=(0,t(9533).Z)(s,[["render",function(e,s,t,d,r,u){return(0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("ul",a,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.tabs,((s,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("section",{onClick:e=>u.toRouter(s.toRouter),class:(0,o.C_)([{active:e.$route.name===s.toRouter},"footer-"+s.class])},[c,(0,l._)("p",null,(0,o.zw)(e.$t(s.name)),1)],10,n)])))),128))])])}]])},5543:function(e,s,t){t.r(s),t.d(s,{default:function(){return V}});var l=t(8473),o=t(4887);const i={class:"assets"},a={class:"assets-header"},n={class:"assets-header-box"},c={class:"display-flex assets-header-cny"},d={class:"flex-box"},r=(0,l._)("dd",null,"00",-1),u={class:"flex-box"},h=(0,l._)("dd",null,"00",-1),p={class:"assets-header-classify"},_={class:"display-flex"},m=(0,l._)("dt",null,[(0,l._)("i",{class:"icon-deposit-ass"})],-1),w=(0,l._)("dt",null,[(0,l._)("i",{class:"icon-withdraw"})],-1),b=(0,l._)("dt",null,[(0,l._)("i",{class:"icon-exchange"})],-1),f={class:"assets-tabs-box",ref:"assets_tab"},C={class:"assets-main"},x=["onClick"],v=(0,l._)("i",null,null,-1),g={class:"display-flex assets-content-box"},k={class:"flex-box"},$={class:"flex-box"},y={class:"flex-box"},z={class:"flex-box"},L={class:"flex-box"},S={class:"assets-footer"},T=(0,l._)("i",null,null,-1),A=(0,l._)("i",null,null,-1);t(7658);s=t(299);var F=t(5691),D=t(9197);const N={class:"add-coin-search"},R=(0,l._)("i",null,null,-1),q=["placeholder"],H={class:"add-coin-area"},U=["onClick"],Y=["src"],W={class:"flex-box"},B=(0,l._)("i",null,null,-1),I={class:"add-coin-btn"};var O={name:"coin_list",data(){return{isAddCoin:!1,coinList:[],selectList:[],searchVal:""}},methods:{close(){this.isAddCoin=!1,this.selectList=[]},init(){this.isAddCoin=!0,this.$http.get("coinsyList").then((e=>{1e3===e.code?this.coinList=e.data:this.$error(e.message)}))},selectCoin(e){var s=this.selectList.indexOf(e.coinName);0<=s?this.selectList.splice(s,1):this.selectList.push(e.coinName)},sure(){this.selectList.length<=0?this.$error(this.$t("pSelect")):this.$http.post("addWallet",{coinCode:this.selectList.join(",")}).then((e=>{1e3===e.code?(this.$emit("addCoinSes"),this.isAddCoin=!1,this.selectList=[]):this.$error(e.message)}))},searchCoin(e){return!this.searchVal||e.coinName.toLocaleLowerCase().includes(this.searchVal.toLocaleLowerCase())}}},V=(t=t(9533),F={name:"assetsId",components:{"v-footer":F.Z,"v-coin-list":(0,t.Z)(O,[["render",function(e,s,t,i,a,n){const c=(0,l.up)("v-header");var d=(0,l.up)("van-popup");return(0,l.wg)(),(0,l.j4)(d,{class:"add-coin-popup","close-on-click-overlay":!1,show:a.isAddCoin,"onUpdate:show":s[3]||(s[3]=e=>a.isAddCoin=e),position:"right",style:{backgroundColor:"#ffffff"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{title:e.$t("addCoin"),back:!1,onClickBack:s[0]||(s[0]=e=>n.close())},null,8,["title"]),(0,l._)("dl",N,[(0,l._)("dt",null,[R,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>a.searchVal=e),placeholder:e.$t("search")},null,8,q),[[D.nr,a.searchVal,void 0,{trim:!0}]])])]),(0,l._)("section",H,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.coinList,((e,s)=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("dl",{class:(0,o.C_)(["display-flex",{active:a.selectList.includes(e.coinName)}]),key:s,onClick:s=>n.selectCoin(e)},[(0,l._)("dt",null,[(0,l._)("img",{src:e.url},null,8,Y)]),(0,l._)("dd",W,[(0,l.Uk)((0,o.zw)(e.coinName)+" ",1),B])],10,U)),[[D.F8,n.searchCoin(e)]]))),128))]),(0,l._)("div",I,[(0,l._)("button",{type:"button",onClick:s[2]||(s[2]=e=>n.sure())},(0,o.zw)(e.$t("confirm")),1)])])),_:1},8,["show"])}]])},data(){return{tabs:[{name:"Options Account",type:"1",title:"optAcc"},{name:"Spot Account",type:"2",title:"spotAcc"}],curTab:"1",addSuccess:!1,heightHeader:0,isTabsFixed:!1}},computed:{...(0,s.Se)(["getWallet","getSpot","getOption","getIsGuoJi"]),loadList(){return"1"===this.curTab?this.getOption:this.getSpot}},created(){this.reqSpot(),this.reqOption(),this.reqWallet()},mounted(){this.$nextTick((()=>{this.heightHeader<=0&&(this.heightHeader=this.$refs.assets_tab.offsetTop),window.onscroll=()=>{var e=document.documentElement.scrollTop||document.body.scrollTop;this.isTabsFixed=this.heightHeader<=e}}))},methods:{...(0,s.nv)(["reqSpot","reqOption","reqWallet"]),toRouter(e){this.$router.push({name:e})},showAddCoin(){this.$refs.coinList.init()},addCoinSes(){this.addSuccess=!0,this.reqSpot(),this.reqOption(),setTimeout((()=>{this.addSuccess=!1}),2500)},selectAssets(e){e={balance:"1"===this.curTab?e.coinBalance:e.optionBalance,freeze:"1"===this.curTab?e.coinFreezeBalance:e.optionFreezeBalance,coinCode:e.coinCode,type:this.curTab},this.$router.push({name:"assetsDetails",query:e})}}},(0,t.Z)(F,[["render",function(e,s,t,F,D,N){const R=(0,l.up)("van-tab");var q=(0,l.up)("van-tabs"),H=(0,l.up)("v-footer"),U=(0,l.up)("v-coin-list"),Y=(0,l.up)("van-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[(0,l._)("header",a,[(0,l._)("section",n,[(0,l._)("h3",null,(0,o.zw)(e.$t("estimatedTotal")),1),(0,l._)("h2",null,[(0,l.Uk)((0,o.zw)(e.getWallet)+" ",1),(0,l._)("span",null,(0,o.zw)(e.getIsGuoJi?"":"(CNY)"),1)]),(0,l._)("div",c,[(0,l._)("dl",d,[(0,l._)("dt",null,(0,o.zw)(e.$t("todayReturn"))+(0,o.zw)(e.getIsGuoJi?"":"(CNY)"),1),r]),(0,l._)("dl",u,[(0,l._)("dt",null,(0,o.zw)(e.$t("totalInterests"))+(0,o.zw)(e.getIsGuoJi?"":"(CNY)"),1),h])])]),(0,l._)("div",p,[(0,l._)("article",_,[(0,l._)("dl",{class:"flex-box",onClick:s[0]||(s[0]=e=>N.toRouter("deposit"))},[m,(0,l._)("dd",null,(0,o.zw)(e.$t("deposit")),1)]),(0,l._)("dl",{class:"flex-box",onClick:s[1]||(s[1]=e=>N.toRouter("withdraw"))},[w,(0,l._)("dd",null,(0,o.zw)(e.$t("withdraw")),1)]),(0,l._)("dl",{class:"flex-box",onClick:s[2]||(s[2]=e=>N.toRouter("transfer"))},[b,(0,l._)("dd",null,(0,o.zw)(e.$t("transfer")),1)])])])]),(0,l._)("section",f,[(0,l._)("div",{class:(0,o.C_)({"assets-tabs-content":D.isTabsFixed})},[(0,l.Wm)(q,{class:"assets-tabs",active:D.curTab,"onUpdate:active":s[3]||(s[3]=e=>D.curTab=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(D.tabs,((s,t)=>((0,l.wg)(),(0,l.j4)(R,{title:e.$t(s.title),key:t,name:s.type},null,8,["title","name"])))),128))])),_:1},8,["active"])],2)],512),(0,l._)("article",C,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.loadList,((s,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"assets-content",key:t,onClick:e=>N.selectAssets(s)},[(0,l._)("h2",null,[(0,l.Uk)((0,o.zw)(s.coinCode)+" ",1),v]),(0,l._)("div",g,["1"===D.curTab?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("dl",k,[(0,l._)("dt",null,(0,o.zw)(e.$t("available")),1),(0,l._)("dd",null,(0,o.zw)(Number(s.optionBalance).toFixed(2)),1)]),(0,l._)("dl",$,[(0,l._)("dt",null,(0,o.zw)(e.$t("locked")),1),(0,l._)("dd",null,(0,o.zw)(Number(s.optionFreezeBalance).toFixed(2)),1)])],64)):(0,l.kq)("",!0),"2"===D.curTab?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("dl",y,[(0,l._)("dt",null,(0,o.zw)(e.$t("available")),1),(0,l._)("dd",null,(0,o.zw)(Number(s.coinBalance).toFixed(2)),1)]),(0,l._)("dl",z,[(0,l._)("dt",null,(0,o.zw)(e.$t("locked")),1),(0,l._)("dd",null,(0,o.zw)(Number(s.coinFreezeBalance).toFixed(2)),1)])],64)):(0,l.kq)("",!0),(0,l._)("dl",L,[(0,l._)("dt",null,(0,o.zw)(e.$t("estValue"))+(0,o.zw)(e.getIsGuoJi?"(USDT)":"(CNY)"),1),(0,l._)("dd",null,(0,o.zw)(Number(s.cnyCost||0).toFixed(2)),1)])])],8,x)))),128))])]),(0,l._)("div",S,[(0,l._)("button",{type:"button",onClick:s[4]||(s[4]=e=>N.showAddCoin())},[T,(0,l.Uk)(" "+(0,o.zw)(e.$t("addCoin")),1)])]),(0,l.Wm)(H),(0,l.Wm)(U,{ref:"coinList",onAddCoinSes:N.addCoinSes},null,8,["onAddCoinSes"]),(0,l.Wm)(Y,{class:"add-sfy-popup",overlay:!1,"close-on-click-overlay":!1,show:D.addSuccess,"onUpdate:show":s[5]||(s[5]=e=>D.addSuccess=e),position:"center",style:{backgroundColor:"#F7F7F8"}},{default:(0,l.w5)((()=>[(0,l._)("section",null,[A,(0,l._)("p",null,(0,o.zw)(e.$t("successAdd")),1)])])),_:1},8,["show"])],64)}]]))}}]);