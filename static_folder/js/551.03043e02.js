"use strict";(self.webpackChunkcoinDex=self.webpackChunkcoinDex||[]).push([[551],{4551:function(e,a,r){r.r(a),r.d(a,{default:function(){return m}});var t=r(8473),l=r(4887);const n={class:"add-bank-area"},d={class:"add-bank-main"},s={class:"add-bank-btn"};a={name:"add_bank",data(){return{params:{bankType:1,bankName:null,cardNumber:null,cardAccountName:null,branchName:null},preventClick:!1}},created(){var e=this.$route.query.type;e&&sessionStorage.setItem("_h5BankType",e)},methods:{...(0,r(299).nv)(["reqUserBank"]),sure(){this.preventClick||(this.params.cardAccountName?this.params.bankName?this.params.cardNumber?this.params.cardNumber.length<16||19<this.params.cardNumber.length?this.$error(this.$t("correctCardNumber")):this.params.branchName?(this.preventClick=!0,this.$http.post("addBank",this.params).then((e=>{1e3===e.code?(this.$success(this.$t("addSuccess")),this.reqUserBank({bankType:1}),setTimeout((()=>{this.$router.back()}),600)):this.$error(e.message),setTimeout((()=>{this.preventClick=!1}),600)}))):this.$error(this.$t("enterBankBranch")):this.$error(this.$t("enterCardNumber")):this.$error(this.$t("enterBankName")):this.$error(this.$t("enterName")))}}};var m=(0,r(9533).Z)(a,[["render",function(e,a,r,m,u,c){var i=(0,t.up)("v-header"),o=(0,t.up)("van-field");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(i,{title:e.$t("addBankCard")},null,8,["title"]),(0,t._)("section",n,[(0,t._)("div",d,[(0,t._)("dl",null,[(0,t._)("dt",null,(0,l.zw)(e.$t("cardName")),1),(0,t._)("dd",null,[(0,t.Wm)(o,{class:"add-bank-input",maxlength:"25",modelValue:u.params.cardAccountName,"onUpdate:modelValue":a[0]||(a[0]=e=>u.params.cardAccountName=e),modelModifiers:{trim:!0},placeholder:e.$t("enterName")},null,8,["modelValue","placeholder"])])]),(0,t._)("dl",null,[(0,t._)("dt",null,(0,l.zw)(e.$t("bankName")),1),(0,t._)("dd",null,[(0,t.Wm)(o,{class:"add-bank-input",maxlength:"25",modelValue:u.params.bankName,"onUpdate:modelValue":a[1]||(a[1]=e=>u.params.bankName=e),modelModifiers:{trim:!0},placeholder:e.$t("enterBankName")},null,8,["modelValue","placeholder"])])]),(0,t._)("dl",null,[(0,t._)("dt",null,(0,l.zw)(e.$t("cardNumber")),1),(0,t._)("dd",null,[(0,t.Wm)(o,{class:"add-bank-input",maxlength:"19",modelValue:u.params.cardNumber,"onUpdate:modelValue":a[2]||(a[2]=e=>u.params.cardNumber=e),modelModifiers:{trim:!0},formatter:e=>e.replace(/[^0-9]/g,""),placeholder:e.$t("enterCardNumber")},null,8,["modelValue","formatter","placeholder"])])]),(0,t._)("dl",null,[(0,t._)("dt",null,(0,l.zw)(e.$t("bankBranch")),1),(0,t._)("dd",null,[(0,t.Wm)(o,{class:"add-bank-input",maxlength:"25",modelValue:u.params.branchName,"onUpdate:modelValue":a[3]||(a[3]=e=>u.params.branchName=e),modelModifiers:{trim:!0},placeholder:e.$t("bankBranch")},null,8,["modelValue","placeholder"])])])])]),(0,t._)("article",s,[(0,t._)("button",{type:"button",onClick:a[4]||(a[4]=e=>c.sure())},(0,l.zw)(e.$t("submit")),1)])],64)}]])}}]);