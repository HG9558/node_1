"use strict";(self.webpackChunkcoinDex=self.webpackChunkcoinDex||[]).push([[375],{375:function(s,e,t){t.r(e),t.d(e,{default:function(){return C}});var l=t(8473),i=t(4887),a=t(9197);const o=(0,l._)("div",{class:"deposit-smt-bg"},null,-1),d={class:"deposit-smt-area"},n={class:"deposit-smt-main"},r={class:"deposit-smt-qr"},p=["src"],u={class:"deposit-smt-dl"},c=["href"],h={class:"deposit-smt-content deposit-usdt-content"},m={class:"deposit-smt-dl2"},g={class:"deposit-smt-dl2 deposit-smt-dl3"},_={key:0,class:"deposit-smt-img"},f=["src"],v=(0,l._)("i",null,null,-1),$={class:"deposit-smt-upload2"},k={class:"deposit-smt-loading"},w={class:"deposit-smt-footer"};e={name:"deposit_usdt",mixins:[t(8932).Z],data(){return{params:{receiveBankName:null,receiveBankCardNo:null,receiveBankAccountName:null,payAccountName:null,amount:null,url:null,type:2},isUpload:!1,preventClick:!1,address:null,photo:null}},created(){this.getUsdt()},methods:{selectPhoto(){this.isUpload||this.$refs.select_file.click()},imageChange(s){s=s.target.files||s.dataTransfer.files,s.length?(this.isUpload=!0,this.imgUpload(s,(s=>{s?this.params.url=s:this.$error(this.$t("uploadFailed")),this.isUpload=!1})),this.$refs.select_file.value=""):(this.$refs.select_file.value="",this.isUpload=!1)},sure(){this.preventClick||(+this.params.amount<=0?this.$error(this.$t("enterAmount")):this.params.url?(this.preventClick=!0,this.$http.post("recharge",this.params).then((s=>{1e3===s.code?(this.$success(this.$t("rechargedSuccess")),this.$router.back()):this.$error(s.message),setTimeout((()=>{this.preventClick=!1}),600)}))):this.$error(this.$t("uploadPayData")))},getUsdt(){this.$http.get("sysConfig").then((s=>{if(1e3===s.code){let t=null,l=null;for(let i=0;i<s.data.length;i++){var e=s.data[i];if("usdtConfigUrl"===e.code&&(l=e),"usdtConfigPicUrl"===e.code&&(t=e),l&&t)break}this.photo=t,this.address=l}else this.$error(s.message)}))},save(){this.photo&&this.photo.value&&this.$downloadImg("USDT"+this.$t("recharge"),this.photo.value,(()=>{this.$success(this.$t("downloadSesfu"))}))},copy(){this.address&&this.address.value&&this.$copy(this.address.value,(()=>{this.$success(this.$t("copySuccess"))}))}}};var C=(0,t(9533).Z)(e,[["render",function(s,e,t,C,U,y){var z=(0,l.up)("v-header"),D=(0,l.up)("van-field"),b=(0,l.up)("van-loading");return(0,l.wg)(),(0,l.iD)(l.HY,null,[o,(0,l.Wm)(z,{title:s.$t("deposit")+"USDT",class:"deposit-smt-head"},null,8,["title"]),(0,l._)("section",d,[(0,l._)("div",n,[(0,l._)("h2",null,(0,i.zw)(s.$t("depositAdr")),1),(0,l._)("div",r,[(0,l._)("img",{ref:"photo_img",src:U.photo&&U.photo.value},null,8,p),(0,l._)("p",null,(0,i.zw)(U.address&&U.address.value),1)]),(0,l._)("dl",u,[(0,l._)("dt",null,[(0,l._)("div",{onClick:e[0]||(e[0]=s=>y.save())},(0,i.zw)(s.$t("saveQRCode")),1),(0,l._)("a",{href:U.photo&&U.photo.value,ref:"photo_a",download:"USDT Recharge"},null,8,c)]),(0,l._)("dd",null,[(0,l._)("div",{onClick:e[1]||(e[1]=s=>y.copy())},(0,i.zw)(s.$t("copyAddr")),1)])]),(0,l._)("div",h,[(0,l._)("dl",m,[(0,l._)("dt",null,(0,i.zw)(s.$t("depositAmount")),1),(0,l._)("dd",null,[(0,l.Wm)(D,{class:"deposit-smt-input",maxlength:"25",modelValue:U.params.amount,"onUpdate:modelValue":e[2]||(e[2]=s=>U.params.amount=s),modelModifiers:{trim:!0},formatter:s=>s.replace(/[^0-9]/g,""),placeholder:"Minimum 1 USDT"},null,8,["modelValue","formatter"])])]),(0,l._)("dl",g,[(0,l._)("dt",null,[(0,l.Uk)((0,i.zw)(s.$t("uploadPayData"))+" ",1),(0,l._)("span",null,"("+(0,i.zw)(s.$t("screenshot"))+")",1)]),(0,l._)("dd",null,[U.params.url?((0,l.wg)(),(0,l.iD)("section",_,[(0,l._)("img",{src:U.params.url},null,8,f),(0,l._)("div",{class:"deposit-smt-del",onClick:e[3]||(e[3]=(0,a.iM)((s=>U.params.url=null),["stop"]))})])):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.wy)((0,l._)("section",{class:"deposit-smt-upload",onClick:e[4]||(e[4]=s=>y.selectPhoto())},[(0,l._)("div",null,[v,(0,l._)("p",null,(0,i.zw)(s.$t("clickUpload")),1)])],512),[[a.F8,!U.isUpload]]),(0,l.wy)((0,l._)("section",$,[(0,l._)("div",k,[(0,l.Wm)(b,{size:"24px",type:"spinner",vertical:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(s.$t("loading")),1)])),_:1})])],512),[[a.F8,U.isUpload]])],64)),(0,l._)("input",{type:"file",ref:"select_file",onChange:e[5]||(e[5]=(...s)=>y.imageChange&&y.imageChange(...s)),accept:".jpg, .png, .gif, .jpeg, image/jpeg, image/png, image/gif",style:{display:"none"}},null,544)])])]),(0,l._)("article",w,[(0,l._)("button",{type:"button",onClick:e[6]||(e[6]=s=>y.sure())},(0,i.zw)(s.$t("submit")),1)])])])],64)}]])}}]);