var e=Object.defineProperty,a=(a,t,r)=>(((a,t,r)=>{t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r})(a,"symbol"!=typeof t?t+"":t,r),r);import{a as t}from"./_axios-dc055ed6.js";import{v as r}from"./__vendor-38d4085c.js";import{u as o}from"./index-8b7cd8a6.js";const s=t.create({}),{CancelToken:p}=t,i=e=>{const{method:a,url:t}=e;return[a,t].join("&")},n=new Map,l=e=>{const a=i(e);if(n.has(a)){n.get(a)(a),n.delete(a)}};function m(e,a){const{url:t}=e;e.url=a+t,e.noStop||(l(e),(e=>{const a=i(e);e.cancelToken=e.cancelToken||new p((e=>{n.has(a)||n.set(a,e)}))})(e))}s.interceptors.request.use((async e=>{m(e,"https://api.abbvideo.cc");const{token:a}=o();return a&&(e.headers.token=a),e}),(e=>Promise.reject(e))),s.interceptors.response.use((e=>{l(e.config);switch(e.data.code){case 500:case 2e3:case 401:return Promise.reject(e)}return Promise.resolve(e.data)}),(e=>Promise.reject(e)));const u=({params:e={},url:a="",method:t="get",config:o={}})=>{const p={data:null,...o};return"get"===t||"delete"===t?Object.keys(e).length&&(a+=`?${r.stringify(e)}`):"post"===t&&(s.defaults.headers={"content-type":"application/json"},p.data=e),new Promise(((e,r)=>{s({method:t,url:a,...p}).then(e).catch(r)}))},d={newest:e=>u({url:"/api/video/newest",params:e,method:"post"}),detail:e=>u({url:"/api/video/detail",params:e}),catalog:e=>u({url:"/api/video/hot/catalog",params:e,method:"post"}),moreVideo:e=>u({url:"/api/video/moreVideo",params:e,method:"post"}),fav:e=>u({url:"/api/vedio/fav",method:"post",params:e}),play:e=>u({url:"/api/vedio/play",method:"post",params:e}),top:()=>u({url:"/api/videoCatalog/top"}),membership:e=>u({url:"/api/membership/list",params:e}),search:e=>u({url:"/api/video/search",params:e,method:"post"})},c={register:e=>u({url:"/api/register",params:e,method:"post"}),login:e=>u({url:"/api/login",params:e,method:"post"}),make:e=>u({url:"/api/payment/make",params:e,method:"post"}),rechargeOrder:()=>u({url:"/api/user/rechargeOrder",method:"post"}),getUserInfo:()=>u({url:"/api/user/getCurrentUserInfo"}),getMyfav:e=>u({url:"/api/user/getMyfav",method:"post",params:e}),getMyplay:e=>u({url:"/api/user/getMyplay",method:"post",params:e}),cancel:e=>u({url:"/api/vedio/fav/cancel",method:"post",params:e}),logout:()=>u({url:"/api/logout",method:"post"}),updateUserInfo:e=>u({url:"/api/user/updateInfo",params:e,method:"post"})};class h{}a(h,"movie",d),a(h,"user",c);export{h as a};
