import{n as a,r as e}from"./__vendor-38d4085c.js";import{C as s}from"./Card-c38245ed.js";import{_ as o}from"./CommonHeader.vue_vue_type_style_index_0_lang-729ad2f0.js";import{a as t}from"./index-7efd0a7c.js";import{d as r,b as i,r as l,k as d,e as n,x as p,u as _,f as u,Z as m,q as v,o as c,F as f,a1 as g,a3 as j}from"./_@vue-25e51883.js";import{_ as x}from"./_plugin-vue_export-helper-1b428a4d.js";import"./usePath-cad0276a.js";/* empty css                                                             */import"./_axios-dc055ed6.js";import"./index-8b7cd8a6.js";import"./_pinia-b1a0e29c.js";const y={class:"more_page_container"},h={class:"scroll-wrapper"},C={class:"card_wrapper"},w=x(r({__name:"[type]",setup(r){i(""),i(!1);const x=a(),w=i(!1),k=i(!1),I=i(0),L=i(1),b=l([]),q=i(""),z=async()=>{const a=await t.movie.moreVideo({pageSize:10,pageNo:L.value,secondLevelCatalogId:x.params.id});0==a.code&&(I.value=a.data.totalCount,b.push(...a.data.result),L.value+=1,w.value=!1,b.length>=I.value&&(k.value=!0))};return d((()=>{q.value=x.params.type})),(a,t)=>{const r=e;return c(),n("div",y,[p(o,{title:_(q)},null,8,["title"]),u("div",h,[p(r,{loading:_(w),"onUpdate:loading":t[0]||(t[0]=a=>v(w)?w.value=a:null),finished:_(k),"finished-text":"没有更多了",onLoad:z,offset:300},{default:m((()=>[u("div",C,[(c(!0),n(f,null,g(_(b),(a=>(c(),j(s,{key:a.id,data:a,showType:2},null,8,["data"])))),128))])])),_:1},8,["loading","finished"])])])}}}),[["__scopeId","data-v-d7cae235"]]);export{w as default};
