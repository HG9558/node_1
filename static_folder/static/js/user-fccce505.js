import{e as s,p as e,f as a,I as l}from"./__vendor-38d4085c.js";import{u as r}from"./usePath-cad0276a.js";import{u as i}from"./index-8b7cd8a6.js";import{a as o}from"./index-7efd0a7c.js";import{d as n,b as t,r as c,k as d,e as p,f as u,u as v,_ as m,Y as g,x as f,G as k,F as y,a1 as I,$ as h,a0 as _,o as C,Z as b,J as w}from"./_@vue-25e51883.js";import{_ as x}from"./_plugin-vue_export-helper-1b428a4d.js";import"./_pinia-b1a0e29c.js";import"./_axios-dc055ed6.js";const L=s=>(h("data-v-7a7a121b"),s=s(),_(),s),j={class:"user-wrapper"},N={class:"user-header"},$=L((()=>u("div",null,null,-1))),M=["src"],z={class:"user-info-left"},P=["src"],S={class:"info"},U={class:"info-top"},D={class:"username"},E=["src"],F={key:0,class:"date"},J={key:1,class:"not-member"},R={class:"user-vip"},V={class:"vip-bg"},q={class:"vip-top"},G=L((()=>u("div",{class:"vip-title"},"VIP",-1))),H=L((()=>u("div",{class:"vip-content"},"Unlock valuable benefits and wait for you to receive a massive amount of videos",-1))),O={class:"lists"},Y={class:"prerogative"},Z=L((()=>u("div",{class:"prerogative-title"},"My Prerogative",-1))),A={class:"prerogative-content"},B=L((()=>u("div",null,"Daily viewing frequency",-1))),K={key:0},Q=[L((()=>u("span",null,"Infinite",-1))),L((()=>u("span",null," / ",-1))),L((()=>u("span",null,"Infinite",-1)))],T={key:1},W=L((()=>u("span",null," / ",-1))),X=L((()=>u("span",null,"15",-1))),ss={key:0,class:"records"},es={class:"records-top"},as=L((()=>u("span",{class:"records-title"},"Viewing Records",-1))),ls=["onClick"],rs=["src"],is={class:"text"},os={key:1,class:"like"},ns={class:"records-top"},ts=L((()=>u("span",{class:"records-title"},"I like it",-1))),cs={class:"like-list"},ds=["onClick"],ps={class:"like-content"},us={class:"like-content-title"},vs={class:"play_wrapper"},ms={class:"play_wrapper_left"},gs=["src"],fs={key:0,class:"play_wrapper_right"},ks=L((()=>u("span",{class:"play_hd"},"HD",-1))),ys=x(n({__name:"user",setup(n){const h=i(),_=t(!0),x=t(0),L=c([]),ys=c([]),Is=s();d((()=>{hs()}));const hs=async()=>{const s=await o.user.getUserInfo();if(h.setUserInfo(s.data),"guest"===h.userInfo.memberLevelCode){const s=localStorage.userList?JSON.parse(localStorage.userList):[];x.value=s.find((s=>s.userId===h.userInfo.userId)).len}else _s(),Cs()},_s=async()=>{const s=await o.user.getMyfav({pageSize:3,pageNo:1});s.code||L.push(...s.data.result)},Cs=async()=>{const s=await o.user.getMyplay({pageSize:3,pageNo:1});s.code||ys.push(...s.data.result)},bs=s=>{Is.push(`/videoDetail/${s}`)};return(s,i)=>{const o=e,n=a,t=l;return C(),p("div",j,[u("div",N,[$,u("img",{src:v(r)("user/setting.png"),onClick:i[0]||(i[0]=e=>s.$router.push("/setup"))},null,8,M)]),u("div",{class:"user-info",onClick:i[1]||(i[1]=e=>s.$router.push("/personalData"))},[u("div",z,[u("img",{class:"avatar",src:v(h).userInfo.headImg?v(h).userInfo.headImg:v(r)("user/avatar.png"),alt:""},null,8,P),u("div",S,[u("div",U,[u("span",D,m(v(h).userInfo.nickName),1),v(_)?(C(),p("img",{key:0,class:"vip",src:v(r)("user/vip.png"),alt:""},null,8,E)):g("",!0)]),u("div",null,["guest"!==v(h).userInfo.memberLevelCode?(C(),p("div",F," Expiry date: "+m(v(h).userInfo.gmtMemberExpired),1)):(C(),p("div",J,"Not a member"))])])]),f(o,{name:"arrow",color:"#d0d1d7",size:"20px"})]),u("div",R,[u("div",V,[u("div",q,[G,"guest"===v(h).userInfo.memberLevelCode?(C(),p("div",{key:0,class:"vip-recharge",onClick:i[2]||(i[2]=e=>s.$router.push("/recharge"))}," Recharge ")):g("",!0)]),H])]),u("div",O,[u("div",Y,[Z,u("div",A,[B,"guest"!==v(h).userInfo.memberLevelCode?(C(),p("div",K,Q)):(C(),p("div",T,[u("span",null,m(v(x)),1),W,X]))])]),"guest"!==v(h).userInfo.memberLevelCode?(C(),p("div",ss,[u("div",es,[as,u("span",{class:"more",onClick:i[3]||(i[3]=e=>s.$router.push("/selfPage/records"))},"More")]),u("div",{class:k(["records-list",3===v(ys).length&&"space-between"])},[(C(!0),p(y,null,I(v(ys),((s,e)=>(C(),p("div",{class:"records-list-item",key:e,onClick:e=>bs(s.videoId)},[u("img",{src:s.videoCoverUrl},null,8,rs),u("div",is,m(s.videoName),1)],8,ls)))),128))],2)])):g("",!0),"guest"!==v(h).userInfo.memberLevelCode?(C(),p("div",os,[u("div",ns,[ts,u("span",{class:"more",onClick:i[4]||(i[4]=e=>s.$router.push("/selfPage/like"))},"More")]),u("div",cs,[(C(!0),p(y,null,I(v(L),((s,e)=>(C(),p("div",{class:"like-list-item",key:e,onClick:e=>bs(s.videoId)},[f(t,{class:"like-img","lazy-load":"",src:s.videoCoverUrl},{loading:b((()=>[f(n,{type:"spinner",size:"20"})])),error:b((()=>[w("Loading Failed")])),_:2},1032,["src"]),u("div",ps,[u("div",us,m(s.videoName),1),u("div",vs,[u("div",ms,[u("img",{class:"play-icon",src:v(r)("play_icon.png"),alt:""},null,8,gs),u("span",null,m(s.playCnt),1)]),s.length?(C(),p("div",fs,[ks,u("span",null,m(s.length),1)])):g("",!0)])])],8,ds)))),128))])])):g("",!0)])])}}}),[["__scopeId","data-v-7a7a121b"]]);export{ys as default};
